"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[755],{755:(R,p,r)=>{r.r(p),r.d(p,{ScriptsModule:()=>I});var a=r(9808),u=r(4521),h=r(9391),g=r(5439),y=r.n(g),m=r(8966),t=r(5e3);class _{constructor(c,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=c,this._document.body.appendChild(n)}copy(){const c=this._textarea;let e=!1;try{if(c){const n=this._document.activeElement;c.select(),c.setSelectionRange(0,c.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(n){}return e}destroy(){const c=this._textarea;c&&(c.remove(),this._textarea=void 0)}}let C=(()=>{class o{constructor(e){this._document=e}copy(e){const n=this.beginCopy(e),i=n.copy();return n.destroy(),i}beginCopy(e){return new _(e,this._document)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(a.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=r(7261),l=r(7423),d=r(5245),v=r(9228);const T=["addOrEditComponent"];let x=(()=>{class o{constructor(e,n,i,s){this.dialogRef=e,this.clipboard=n,this.data=i,this.snackBar=s}ngOnInit(){}ngAfterViewInit(){const{necessary:e,preferences:n,statistics:i,marketing:s}=this.data.cookie;this.addOrEditComponent.fillValue({webConfig:this.data.webConfig,cookieBannerTitle:this.data.cookieBannerTitle,cookieBannerContent:this.data.cookieBannerContent,adsBannerTitle:this.data.adsBannerTitle,adsBannerContent:this.data.adsBannerContent,adsBannerLink:this.data.adsLink,necessary:e.data,preferences:n.data,statistics:i.data,marketing:s.data})}copyToClipboard(){this.clipboard.copy(this.data.script)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(m.so),t.Y36(C),t.Y36(m.WI),t.Y36(b.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-detail"]],viewQuery:function(e,n){if(1&e&&t.Gf(T,5),2&e){let i;t.iGM(i=t.CRH())&&(n.addOrEditComponent=i.first)}},decls:16,vars:1,consts:[[1,"header","border-b","flex","justify-between","items-center","pb-3"],[1,"text-xl","font-bold","card-title"],["mat-icon-button","",1,"hover:bg-slate-500",3,"click"],["svgIcon","heroicons_outline:x","title","Edit",1,"icon-size-5"],[1,"content","mt-6","max-h-[75vh]","overflow-auto"],[3,"readonly"],["addOrEditComponent",""],[1,"footer","mt-6","flex","justify-end"],["mat-raised-button","","color","primary",1,"mr-4",3,"click"],["mat-raised-button","",1,"mr-3",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Script Detail "),t.qZA(),t.TgZ(3,"div")(4,"button",2),t.NdJ("click",function(){return n.dialogRef.close()}),t._UZ(5,"mat-icon",3),t.qZA()()(),t.TgZ(6,"div",4),t._UZ(7,"app-add-or-edit",5,6),t.qZA(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return n.copyToClipboard()}),t.TgZ(11,"span"),t._uU(12,"Copy Script"),t.qZA()(),t.TgZ(13,"button",9),t.NdJ("click",function(){return n.dialogRef.close()}),t.TgZ(14,"span"),t._uU(15,"Close"),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("readonly",!0))},directives:[l.lW,d.Hw,v.W],styles:[""]}),o})();var D=r(529),k=r(8391);function S(o,c){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",7),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().row;return t.oxw().copyToClipboard(i.script)}),t._UZ(2,"mat-icon",8),t.qZA(),t.TgZ(3,"button",7),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().row;return t.oxw().viewDetail(i)}),t._UZ(4,"mat-icon",9),t.qZA(),t.BQk()}}function w(o,c){if(1&o&&(t.ynx(0),t._UZ(1,"div",10),t.BQk()),2&o){const e=t.oxw(),n=e.column,i=e.row;t.xp6(1),t.Q6J("innerHTML",n.cellRenderer?n.cellRenderer(i):i[n.columnDef],t.oJD)}}function M(o,c){1&o&&(t.ynx(0,4),t.YNc(1,S,5,0,"ng-container",5),t.YNc(2,w,2,1,"ng-container",6),t.BQk()),2&o&&(t.Q6J("ngSwitch",c.column.columnDef),t.xp6(1),t.Q6J("ngSwitchCase","option"))}const Z=[{path:"",component:(()=>{class o extends h.H{constructor(e,n,i){super(e),this.accountService=n,this.clipboard=i,this.columns=[{columnDef:"webConfig",header:"URL Web Client"},{columnDef:"adsLink",header:"URL Ads"},{columnDef:"adsBannerTitle",header:"Ads Banner"},{columnDef:"adsBannerContent",header:"Ads Content"},{columnDef:"createtime",header:"Create Time",cellRenderer:s=>s.createtime?y()(s.createtime).format("DD/MM/YYYY HH:mm:ss"):"<div></div>"},{columnDef:"option",header:"Option",flex:.3}],this.rows=[]}ngOnInit(){this.accountService.getListScript().subscribe(e=>{this.rows=e.reverse().map(n=>{var i;try{n.cookie=JSON.parse(null!==(i=n.cookie)&&void 0!==i?i:"")}catch(s){n.cookie={}}return n})})}copyToClipboard(e){this.clipboard.copy(e)}viewDetail(e){this.showDialog(x,{width:"60vw",data:e})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3),t.Y36(D.B),t.Y36(C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-scripts"]],features:[t.qOj],decls:6,vars:4,consts:[[1,"p-6","bg-card","w-full"],[1,"text-3xl","font-bold"],[3,"paginate","columns","rows","rowTemplate"],["rowTemplate",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-icon-button","",3,"click"],["svgIcon","heroicons_outline:clipboard-list","title","Copy Script to clipboard",1,"icon-size-5"],["svgIcon","heroicons_outline:information-circle","title","View Detail",1,"icon-size-5"],[3,"innerHTML"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"SCRIPT HISTORY"),t.qZA(),t._UZ(3,"app-data-table",2),t.qZA(),t.YNc(4,M,3,2,"ng-template",null,3,t.W1O)),2&e){const i=t.MAs(5);t.xp6(3),t.Q6J("paginate",!1)("columns",n.columns)("rows",n.rows)("rowTemplate",i)}},directives:[k.Q,a.RF,a.n9,l.lW,d.Hw,a.ED],styles:[""]}),o})()}];let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(Z)],u.Bz]}),o})();var O=r(9260),A=r(4844);let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.ez,B,O.t,l.ot,d.Ps,A.DashboardsModule]]}),o})()}}]);