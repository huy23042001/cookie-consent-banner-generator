"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9874],{9874:(rt,C,u)=>{u.r(C),u.d(C,{UserModule:()=>nt});var p=u(9808),U=u(4521),y=u(4128),c=u(8966),a=u(3075),h=u(9391),t=u(5e3),k=u(7579),E=u(520);const Z=o=>{let i=new E.LE;return o&&(Object.keys(o).forEach(e=>{"sort"!==e&&null!=o[e]&&(i=i.set(e,o[e]))}),o.sort&&o.sort.forEach(e=>{i=i.append("sort",e)})),i};var l=u(2340);let A=(()=>{class o{constructor(e){this.http=e,this.CurrentUserManagement={},this.userMessChange=new k.x,this.resourceUrl=`${l.N.apiUrl}/users`}getSearchServerByID(e){return this.http.get(`${l.N.apiUrl}/server/searchServerByCluster?id=`+e,{observe:"response"})}getItemCluster(){return this.http.get(`${l.N.apiUrl}/clusters`,{observe:"response"})}create(e){return this.http.post(this.resourceUrl,e)}update(e){return this.http.put(this.resourceUrl,e)}getListWpGroup(){return this.http.get(`${l.N.apiUrl}/team`,{observe:"response"})}updateReadedMess(e){return this.http.put(`${l.N.apiUrl}/notification-users/saveAll`,e)}updateStatus(e){return this.http.put(`${l.N.apiUrl}/users/update-status`,e)}resetPass(e){return this.http.post(`${l.N.apiUrl}/users/reset-password/${e}`,null)}find(e){return this.http.get(`${this.resourceUrl}/${e}`,{observe:"response"})}query(e){const n=Z(e);return this.http.get(this.resourceUrl,{params:n,observe:"response"})}delete(e){return this.http.delete(`${this.resourceUrl}/${e}`)}getNotifications(e){return this.http.get(`${l.N.apiUrl}/notification/count-notice-of-user/${e}`,{observe:"response"})}getUserChat(e){const n=Z(e);return this.http.get(`${this.resourceUrl}/notifications`,{params:n,observe:"response"})}getMessage(e){const n=Z(e);return this.http.get(`${l.N.apiUrl}/notifications`,{params:n,observe:"response"})}downloadFile(e){return this.http.get(`${l.N.apiUrl}/notification/get-file?type=type&&path=${e}`)}deleteMessage(e){return this.http.put(`${l.N.apiUrl}/notification-users/saveAll`,e)}authorities(){return this.http.get(`${l.N.apiUrl}/users/authorities`)}getAuthority(){return this.http.get(`${l.N.apiUrl}/authority`)}getHdfsUser(){return this.http.get(`${l.N.apiUrl}/users-vt/searchDHdfsUser`,{observe:"response"})}addUser(e){return this.http.post(`${l.N.apiUrl}/users/addUser`,e)}addOrEditGroup(e){return(null==e?void 0:e.id)?this.http.put(`${l.N.apiUrl}/team`,e,{observe:"response"}):this.http.post(`${l.N.apiUrl}/team`,e,{observe:"response"})}deleteGroup(e){return this.http.delete(`${l.N.apiUrl}/team/${e}`,{observe:"response"})}deleteCluster(e){return this.http.delete(`${l.N.apiUrl}/clusters/${e}`,{observe:"response"})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(E.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var f=u(9177),d=u(7423),m=u(5245),g=u(7322),_=u(7531);function N(o,i){if(1&o&&(t.TgZ(0,"p",2),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function D(o,i){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,N,2,1,"p",1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listOfErrors())}}let b=(()=>{class o{constructor(){this.name="Tr\u01b0\u1eddng n\xe0y",this.textPatterm="Tr\u01b0\u1eddng n\xe0y",this.errorMessages={required:(e,n)=>`${n} l\xe0 tr\u01b0\u1eddng b\u1eaft bu\u1ed9c`,pattern:(e,n)=>`${this.textPatterm}`,onlyNumber:(e,n)=>`${n} value must be number`,minlength:(e,n)=>`Length of ${n} can not lower than ${e.requiredLength} characters`,maxlength:(e,n)=>`Length of ${n} can not exceed ${e.requiredLength} characters`,minNumber:(e,n)=>`Value of ${n} can not lower than ${e.message}`,maxNumber:(e,n)=>`Value of ${n} can not exceed ${e.message}`,uniqueName:(e,n)=>e.message,mustMatch:()=>"M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng kh\u1edbp"}}shouldShowErrors(){var e;return(null===(e=this.control)||void 0===e?void 0:e.errors)&&(this.control.dirty||this.control.touched)}listOfErrors(){return Object.keys(this.control.errors).map(e=>this.getMessage(e,this.control.errors[e]))}getMessage(e,n){return this.errorMessages[e](n,this.name)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-error-message"]],inputs:{control:"control",name:"name",textPatterm:"textPatterm"},decls:1,vars:1,consts:[[4,"ngIf"],["class","text-red-500 font-semibold pt-1","style","font-size: 13px",4,"ngFor","ngForOf"],[1,"text-red-500","font-semibold","pt-1",2,"font-size","13px"]],template:function(e,n){1&e&&t.YNc(0,D,2,1,"div",0),2&e&&t.Q6J("ngIf",n.shouldShowErrors())},directives:[p.O5,p.sg],styles:["div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{display:block}"]}),o})();var v=u(9814);function q(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"button",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().dialogRef.close()}),t._UZ(6,"mat-icon",4),t.qZA()()(),t.TgZ(7,"div",5)(8,"div",6)(9,"label",7),t._uU(10,"T\xean nh\xf3m"),t.qZA(),t.TgZ(11,"div",8)(12,"mat-form-field",9),t._UZ(13,"input",10),t.qZA(),t._UZ(14,"app-error-message",11),t.qZA()(),t.TgZ(15,"div",6)(16,"label",12),t._uU(17,"T\xe0i kho\u1ea3n server"),t.qZA(),t.TgZ(18,"div",8)(19,"mat-form-field",9),t._UZ(20,"input",13),t.qZA(),t._UZ(21,"app-error-message",14),t.qZA()(),t.TgZ(22,"div",6)(23,"label",15),t._uU(24,"M\xf4 t\u1ea3"),t.qZA(),t.TgZ(25,"div",8)(26,"mat-form-field",9),t._UZ(27,"textarea",16),t.qZA(),t._UZ(28,"app-error-message",17),t.qZA()(),t.TgZ(29,"div",6)(30,"label",15),t._uU(31,"Tr\u1ea1ng th\xe1i"),t.qZA(),t.TgZ(32,"div",8)(33,"mat-radio-group",18)(34,"mat-radio-button",19),t._uU(35,"Ho\u1ea1t \u0111\u1ed9ng"),t.qZA(),t.TgZ(36,"mat-radio-button",20),t._uU(37,"B\u1ecb kh\xf3a"),t.qZA()()()()(),t.TgZ(38,"div",21)(39,"button",22),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.formGroup.valid&&r.save()}),t._UZ(40,"mat-icon",23),t.TgZ(41,"span"),t._uU(42,"Th\xeam m\u1edbi"),t.qZA()(),t.TgZ(43,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().dialogRef.close()}),t._UZ(44,"mat-icon",25),t.TgZ(45,"span"),t._uU(46,"H\u1ee7y b\u1ecf"),t.qZA()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(3),t.hij(" ",e.data?"S\u1eeda nh\xf3m":"Th\xeam m\u1edbi nh\xf3m"," "),t.xp6(4),t.Q6J("formGroup",e.formGroup),t.xp6(7),t.Q6J("control",e.formGroup.get("name")),t.xp6(7),t.Q6J("control",e.formGroup.get("groupAcc")),t.xp6(7),t.Q6J("control",e.formGroup.get("description")),t.xp6(6),t.Q6J("value",1),t.xp6(2),t.Q6J("value",0),t.xp6(3),t.Q6J("disabled",e.formGroup.invalid)}}let I=(()=>{class o extends h.H{constructor(e,n,r,s){super(e),this.dialogRef=n,this.data=r,this.settingService=s,this.formGroup=this.fb.group({id:[null],name:[null,[a.kI.required]],groupAcc:[null,[a.kI.required]],description:[null],activated:[1]})}ngOnInit(){this.data&&this.formGroup.patchValue({id:this.data.id,name:this.data.name,groupAcc:this.data.groupAcc,description:this.data.description,activated:this.data.activated})}save(){this.settingService.addOrEditGroup(this.formGroup.value).subscribe(e=>{200===e.status&&(this.showSnackBar(this.formGroup.value.id?"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng":"Th\xeam m\u1edbi th\xe0nh c\xf4ng","success"),this.dialogRef.close("success"))})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3),t.Y36(c.so),t.Y36(c.WI),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-group-dialog"]],features:[t.qOj],decls:1,vars:0,consts:[[4,"transloco"],[1,"header","border-b","flex","justify-between","items-center","pb-3"],[1,"text-xl","font-bold","card-title"],["mat-icon-button","",1,"hover:bg-slate-500",3,"click"],["svgIcon","heroicons_outline:x","title","Edit",1,"icon-size-5"],[1,"content","mt-6",3,"formGroup"],[1,"field","flex","mb-4"],["for","group-name",1,"w-1/4","required"],[1,"input","w-3/4"],[1,"fuse-mat-no-subscript","w-full","mt-4","sm:mt-0","bg-card"],["id","group-name","placeholder","Nh\u1eadp t\xean nh\xf3m","formControlName","name","matInput","",1,"w-full"],["name","T\xean nh\xf3m",3,"control"],["for","groupAccount",1,"w-1/4","required"],["id","groupAccount","placeholder","Nh\u1eadp t\xe0i kho\u1ea3n server","formControlName","groupAcc","matInput","",1,"w-full"],["name","T\xe0i kho\u1ea3n server",3,"control"],["for","description",1,"w-1/4"],["id","description","placeholder","Nh\u1eadp m\xf4 t\u1ea3","formControlName","description","matInput","",1,"w-full"],["name","M\xf4 t\u1ea3",3,"control"],["formControlName","activated"],[1,"mr-10","text-lime-500",3,"value"],[1,"text-red-500",3,"value"],[1,"footer","mt-6","flex","justify-end"],["mat-raised-button","","color","primary",1,"mr-3",3,"disabled","click"],["svgIcon","heroicons_outline:check",1,"icon-size-5","mr-2"],["mat-raised-button","",3,"click"],["svgIcon","heroicons_outline:x",1,"icon-size-5","mr-2"]],template:function(e,n){1&e&&t.YNc(0,q,47,8,"ng-container",0)},directives:[f.KI,d.lW,m.Hw,a.JL,a.sg,g.KE,a.Fj,_.Nt,a.JJ,a.u,b,v.VQ,v.U0],styles:[""]}),o})();var J=u(7261);let G=(()=>{class o{constructor(e,n,r){this.dialogRef=e,this.data=n,this.snackBar=r}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.so),t.Y36(c.WI),t.Y36(J.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-confirm-dialog"]],decls:16,vars:2,consts:[[1,"header","border-b","flex","justify-between","items-center","pb-3"],[1,"text-xl","font-bold","card-title"],["mat-icon-button","",1,"hover:bg-slate-500",3,"click"],["svgIcon","heroicons_outline:x","title","Edit",1,"icon-size-5"],[1,"content","mt-6"],[1,"footer","mt-6","flex","justify-end"],["mat-raised-button","",1,"mr-3",3,"click"],["mat-raised-button","","color","primary",1,"mr-3",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div")(4,"button",2),t.NdJ("click",function(){return n.dialogRef.close()}),t._UZ(5,"mat-icon",3),t.qZA()()(),t.TgZ(6,"div",4)(7,"div"),t._uU(8),t.qZA()(),t.TgZ(9,"div",5)(10,"button",6),t.NdJ("click",function(){return n.dialogRef.close()}),t.TgZ(11,"span"),t._uU(12,"H\u1ee7y b\u1ecf"),t.qZA()(),t.TgZ(13,"button",7),t.NdJ("click",function(){return n.dialogRef.close("success")}),t.TgZ(14,"span"),t._uU(15,"X\xe1c nh\u1eadn"),t.qZA()()()),2&e&&(t.xp6(2),t.hij(" ",(null==n.data?null:n.data.title)||"X\xf3a b\u1ea3n ghi"," "),t.xp6(6),t.Oqu((null==n.data?null:n.data.content)||"B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a b\u1ea3n ghi?"))},directives:[d.lW,m.Hw],styles:[""]}),o})();function M(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4," Th\xeam m\u1edbi IP "),t.qZA(),t.TgZ(5,"div")(6,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().dialogRef.close()}),t._UZ(7,"mat-icon",5),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"label",8),t._uU(11,"IP"),t.qZA(),t.TgZ(12,"div",9)(13,"mat-form-field",10),t._UZ(14,"input",11),t.qZA(),t._UZ(15,"app-error-message",12),t.qZA()()(),t.TgZ(16,"div",13)(17,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.formGroup.valid&&r.dialogRef.close(r.formGroup.value.ipAddress)}),t._UZ(18,"mat-icon",15),t.TgZ(19,"span"),t._uU(20,"Th\xeam m\u1edbi"),t.qZA()(),t.TgZ(21,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().dialogRef.close()}),t._UZ(22,"mat-icon",17),t.TgZ(23,"span"),t._uU(24,"H\u1ee7y b\u1ecf"),t.qZA()()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("formGroup",e.formGroup),t.xp6(7),t.Q6J("control",e.formGroup.get("ipAddress")),t.xp6(2),t.Q6J("disabled",e.formGroup.invalid)}}let F=(()=>{class o extends h.H{constructor(e,n,r){super(e),this.dialogRef=n,this.data=r,this.formGroup=this.fb.group({ipAddress:[null,[a.kI.required]]})}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3),t.Y36(c.so),t.Y36(c.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-ip-dialog"]],features:[t.qOj],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-col","h-full"],[1,"header","border-b","flex","justify-between","items-center","pb-3"],[1,"text-xl","font-bold","card-title"],["mat-icon-button","",1,"hover:bg-slate-500",3,"click"],["svgIcon","heroicons_outline:x","title","Edit",1,"icon-size-5"],[1,"content","mt-6","flex-1","overflow-auto",3,"formGroup"],[1,"field","flex","mb-4"],[1,"w-1/6","required"],[1,"input","w-5/6"],[1,"fuse-mat-no-subscript","w-full","mt-4","sm:mt-0","bg-card"],["placeholder","Nh\u1eadp IP","formControlName","ipAddress","matInput","",1,"w-full"],["name","IP",3,"control"],[1,"footer","mt-6","flex","justify-end"],["mat-raised-button","","color","primary",1,"mr-3",3,"disabled","click"],["svgIcon","heroicons_outline:check",1,"icon-size-5","mr-2"],["mat-raised-button","",3,"click"],["svgIcon","heroicons_outline:x",1,"icon-size-5","mr-2"]],template:function(e,n){1&e&&t.YNc(0,M,25,3,"ng-container",0)},directives:[f.KI,d.lW,m.Hw,a.JL,a.sg,g.KE,a.Fj,_.Nt,a.JJ,a.u,b],styles:[""]}),o})();var O=u(4485),T=u(4107),w=u(508);function $(o,i){if(1&o&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}function Q(o,i){if(1&o&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}function H(o,i){if(1&o&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}function L(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",49)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"mat-icon",50),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).removeIp(s)}),t.qZA()(),t.BQk()}if(2&o){const e=i.$implicit;t.xp6(3),t.hij(" ",null==e?null:e.ipAddress," ")}}function S(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().dialogRef.close()}),t._UZ(7,"mat-icon",5),t.qZA()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"label",8),t._uU(11,"H\u1ecd v\xe0 t\xean"),t.qZA(),t.TgZ(12,"div",9)(13,"mat-form-field",10),t._UZ(14,"input",11),t.qZA(),t._UZ(15,"app-error-message",12),t.qZA()(),t.TgZ(16,"div",7)(17,"label",8),t._uU(18,"T\xean \u0111\u0103ng nh\u1eadp"),t.qZA(),t.TgZ(19,"div",9)(20,"mat-form-field",10),t._UZ(21,"input",13),t.qZA(),t._UZ(22,"app-error-message",14),t.qZA()(),t.TgZ(23,"div",7)(24,"label",8),t._uU(25,"M\u1eadt kh\u1ea9u"),t.qZA(),t.TgZ(26,"div",9)(27,"mat-form-field",10),t._UZ(28,"input",15),t.qZA(),t._UZ(29,"app-error-message",16),t.qZA()(),t.TgZ(30,"div",7)(31,"label",8),t._uU(32,"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u"),t.qZA(),t.TgZ(33,"div",9)(34,"mat-form-field",10),t._UZ(35,"input",17),t.qZA(),t._UZ(36,"app-error-message",16),t.qZA()(),t.TgZ(37,"div",7)(38,"label",8),t._uU(39,"Email"),t.qZA(),t.TgZ(40,"div",9)(41,"mat-form-field",10),t._UZ(42,"input",18),t.qZA(),t._UZ(43,"app-error-message",19),t.qZA()(),t.TgZ(44,"div",7)(45,"label",20),t._uU(46,"\u0110i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(47,"div",9)(48,"mat-form-field",10),t._UZ(49,"input",21),t.qZA(),t._UZ(50,"app-error-message",22),t.qZA()(),t.TgZ(51,"div",7)(52,"div",23)(53,"label",24),t._uU(54,"Nh\xf3m"),t.qZA(),t.TgZ(55,"div",25)(56,"mat-form-field",26)(57,"mat-select",27),t.YNc(58,$,2,2,"mat-option",28),t.qZA()(),t._UZ(59,"app-error-message",29),t.qZA()(),t.TgZ(60,"div",30)(61,"label",24),t._uU(62,"Nh\xf3m quy\u1ec1n"),t.qZA(),t.TgZ(63,"div",25)(64,"mat-form-field",26)(65,"mat-select",31),t.YNc(66,Q,2,2,"mat-option",28),t.qZA()(),t._UZ(67,"app-error-message",32),t.qZA()()(),t.TgZ(68,"div",7)(69,"div",23)(70,"label",33),t._uU(71,"T\xe0i kho\u1ea3n HDFS"),t.qZA(),t.TgZ(72,"div",25)(73,"mat-form-field",26)(74,"mat-select",34),t.YNc(75,H,2,2,"mat-option",28),t.qZA()(),t._UZ(76,"app-error-message",35),t.qZA()(),t.TgZ(77,"div",30)(78,"label",24),t._uU(79,"Lo\u1ea1i t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(80,"div",25)(81,"mat-radio-group",36)(82,"mat-radio-button",37),t._uU(83,"SSO"),t.qZA(),t.TgZ(84,"mat-radio-button",38),t._uU(85,"Th\u01b0\u1eddng"),t.qZA()()()()(),t.TgZ(86,"div",7)(87,"label",20),t._uU(88,"IP"),t.qZA(),t.TgZ(89,"div",9)(90,"div",39),t.YNc(91,L,5,1,"ng-container",40),t.TgZ(92,"button",41),t.NdJ("click",function(){return t.CHM(e),t.oxw().addIp()}),t._UZ(93,"mat-icon",42),t.qZA()()()()(),t.TgZ(94,"div",43)(95,"button",44),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.formGroup.valid&&r.save()}),t._UZ(96,"mat-icon",45),t.TgZ(97,"span"),t._uU(98,"Th\xeam m\u1edbi"),t.qZA()(),t.TgZ(99,"button",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().dialogRef.close()}),t._UZ(100,"mat-icon",47),t.TgZ(101,"span"),t._uU(102,"H\u1ee7y b\u1ecf"),t.qZA()()()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.userData?"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng":"Th\xeam m\u1edbi ng\u01b0\u1eddi d\xf9ng"," "),t.xp6(4),t.Q6J("formGroup",e.formGroup),t.xp6(7),t.Q6J("control",e.formGroup.get("firstName")),t.xp6(7),t.Q6J("control",e.formGroup.get("login")),t.xp6(7),t.Q6J("control",e.formGroup.get("password")),t.xp6(7),t.Q6J("control",e.formGroup.get("confirmPassword")),t.xp6(7),t.Q6J("control",e.formGroup.get("email")),t.xp6(7),t.Q6J("control",e.formGroup.get("phone")),t.xp6(8),t.Q6J("ngForOf",e.groups),t.xp6(1),t.Q6J("control",e.formGroup.get("team")),t.xp6(6),t.Q6J("multiple",!0),t.xp6(1),t.Q6J("ngForOf",e.authorities),t.xp6(1),t.Q6J("control",e.formGroup.get("authorities")),t.xp6(8),t.Q6J("ngForOf",e.hdfsUsers),t.xp6(1),t.Q6J("control",e.formGroup.get("hdfsUserList")),t.xp6(6),t.Q6J("value",1),t.xp6(2),t.Q6J("value",0),t.xp6(7),t.Q6J("ngForOf",e.formGroup.value.userIpList),t.xp6(4),t.Q6J("disabled",e.formGroup.invalid)}}let j=(()=>{class o extends h.H{constructor(e,n,r,s){super(e),this.dialogRef=n,this.settingService=r,this.data=s,this.formGroup=this.fb.group({login:[null,[a.kI.required]],firstName:[null,[a.kI.required]],password:[null,[a.kI.required]],confirmPassword:[null,[a.kI.required]],email:[null,[a.kI.required]],phone:[null],team:[null,[a.kI.required]],authorities:[null,[a.kI.required]],hdfsUserList:[null],userType:[1],userIpList:[null]},{validators:O.a.mustMatch("password","confirmPassword")}),this.groups=[],this.authorities=[],this.hdfsUsers=[],this.groups=null==s?void 0:s.groups,this.userData=null==s?void 0:s.userData,this.authorities=null==s?void 0:s.authorities}ngOnInit(){this.settingService.getHdfsUser().subscribe(e=>{console.log(e),this.hdfsUsers=e.body.results,this.userData&&this.formGroup.patchValue(this.userData)})}addIp(){this.showDialog(F,{width:"30vw"},e=>{var n;if(e){const r=null!==(n=this.formGroup.value.userIpList)&&void 0!==n?n:[];r.push({ipAddress:e}),this.formGroup.get("userIpList").patchValue(r)}})}removeIp(e){var n;const r=null!==(n=this.formGroup.value.userIpList)&&void 0!==n?n:[],s=r.indexOf(e);r.splice(s,1),this.formGroup.get("userIpList").patchValue(r)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3),t.Y36(c.so),t.Y36(A),t.Y36(c.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-or-edit-user"]],features:[t.qOj],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-col","h-full"],[1,"header","border-b","flex","justify-between","items-center","pb-3"],[1,"text-xl","font-bold","card-title"],["mat-icon-button","",1,"hover:bg-slate-500",3,"click"],["svgIcon","heroicons_outline:x","title","Edit",1,"icon-size-5"],[1,"content","mt-6","flex-1","overflow-auto",3,"formGroup"],[1,"field","flex","mb-4"],[1,"w-1/6","required"],[1,"input","w-5/6"],[1,"fuse-mat-no-subscript","w-full","mt-4","sm:mt-0","bg-card"],["placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean","formControlName","firstName","matInput","",1,"w-full"],["name","H\u1ecd v\xe0 t\xean",3,"control"],["placeholder","Nh\u1eadp t\xean \u0111\u0103ng nh\u1eadp","formControlName","login","matInput","",1,"w-full"],["name","T\xean \u0111\u0103ng nh\u1eadp",3,"control"],["placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u","formControlName","password","type","password","matInput","",1,"w-full"],["name","M\u1eadt kh\u1ea9u",3,"control"],["placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u","type","password","formControlName","confirmPassword","matInput","",1,"w-full"],["placeholder","Nh\u1eadp email","formControlName","email","matInput","",1,"w-full"],["name","Email",3,"control"],[1,"w-1/6"],["placeholder","Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","matInput","",1,"w-full"],["name","Phone",3,"control"],[1,"w-1/2","flex"],[1,"w-1/3","required"],[1,"input","w-2/3"],[1,"fuse-mat-no-subscript","w-full","bg-card"],["placeholder","Ch\u1ecdn nh\xf3m","formControlName","team"],[3,"value",4,"ngFor","ngForOf"],["name","Nh\xf3m",3,"control"],[1,"w-1/2","flex","pl-10"],["placeholder","Ch\u1ecdn nh\xf3m quy\u1ec1n","formControlName","authorities",3,"multiple"],["name","Nh\xf3m quy\u1ec1n",3,"control"],[1,"w-1/3"],["placeholder","Ch\u1ecdn t\xe0i kho\u1ea3n HDFS","formControlName","hdfsUserList"],["name","T\xe0i kho\u1ea3n HDFS",3,"control"],["formControlName","userType"],[1,"mr-10","text-lime-500",3,"value"],[1,"text-red-500",3,"value"],[1,"ip","border-2","rounded","w-full","h-30","p-2","pr-5","relative","flex","flex-wrap","bg-card"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"absolute","top-0","right-0",3,"click"],["svgIcon","heroicons_outline:plus",1,"icon-size-6"],[1,"footer","mt-6","flex","justify-end"],["mat-raised-button","","color","primary",1,"mr-3",3,"disabled","click"],["svgIcon","heroicons_outline:check",1,"icon-size-5","mr-2"],["mat-raised-button","",3,"click"],["svgIcon","heroicons_outline:x",1,"icon-size-5","mr-2"],[3,"value"],[1,"pl-3","pr-2","py-1","mr-3","mb-3","rounded","h-fit","bg-stone-500","text-gray-200","flex","items-center"],["svgIcon","heroicons_outline:x",1,"rounded","hover:bg-gray-400","ml-2","cursor-pointer","text-gray-200",3,"click"]],template:function(e,n){1&e&&t.YNc(0,S,103,19,"ng-container",0)},directives:[f.KI,d.lW,m.Hw,a.JL,a.sg,g.KE,a.Fj,_.Nt,a.JJ,a.u,b,T.gD,p.sg,w.ey,v.VQ,v.U0],styles:[""]}),o})();var z=u(9224);function R(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"li",5)(1,"div",6),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().groupClick(s.id)}),t._UZ(2,"mat-icon",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8)(5,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().emitEvent("edit",s)}),t._UZ(6,"mat-icon",10),t.qZA(),t.TgZ(7,"button",9),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().emitEvent("delete",s)}),t._UZ(8,"mat-icon",11),t.qZA()()()}if(2&o){const e=i.$implicit,n=t.oxw();t.ekj("bg-slate-200",n.group===e.id)("dark:bg-slate-600",n.group===e.id),t.xp6(3),t.hij(" ",e.name," ")}}let Y=(()=>{class o{constructor(){this.groups=[],this.groupChange=new t.vpe,this.action=new t.vpe}ngOnInit(){}groupClick(e){this.groupChange.emit(e)}emitEvent(e,n){this.action.emit({type:e,data:n})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-group-list"]],inputs:{groups:"groups",group:"group"},outputs:{groupChange:"groupChange",action:"action"},decls:7,vars:5,consts:[[1,"bg-default"],[1,"border-b-2","bg-white","dark:bg-default","border-slate-900","hover:bg-slate-200","hover:dark:bg-slate-600"],[1,"flex","items-center","cursor-pointer","w-full","p-3",3,"click"],["svgIcon","heroicons_outline:home",1,"mr-2"],["class","border-b-2  bg-white dark:bg-default border-slate-900 flex hover:bg-slate-200 hover:dark:bg-slate-600",3,"bg-slate-200","dark:bg-slate-600",4,"ngFor","ngForOf"],[1,"border-b-2","bg-white","dark:bg-default","border-slate-900","flex","hover:bg-slate-200","hover:dark:bg-slate-600"],[1,"flex","items-center","cursor-pointer","w-3/4","p-3",3,"click"],["svgIcon","heroicons_outline:user-group",1,"mr-2","icon-size-5"],[1,"actions","flex","w-1/4"],["mat-icon-button","",1,"hover:bg-slate-500",3,"click"],["svgIcon","heroicons_outline:pencil-alt","title","Edit",1,"icon-size-5"],["svgIcon","heroicons_outline:trash","title","Delete",1,"icon-size-5"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"ul")(2,"li",1)(3,"div",2),t.NdJ("click",function(){return n.groupClick("")}),t._UZ(4,"mat-icon",3),t._uU(5," T\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng "),t.qZA()(),t.YNc(6,R,9,5,"li",4),t.qZA()()),2&e&&(t.xp6(2),t.ekj("bg-slate-200",""===n.group)("dark:bg-slate-600",""===n.group),t.xp6(4),t.Q6J("ngForOf",n.groups))},directives:[m.Hw,p.sg,d.lW],styles:[""]}),o})();var B=u(8391);function P(o,i){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}function W(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).addOrEditUser(s)}),t._UZ(1,"mat-icon",27),t.qZA(),t.TgZ(2,"button",28),t._UZ(3,"mat-icon",29),t.qZA()}2&o&&(t.xp6(1),t.Udp("color","orange"),t.xp6(2),t.Udp("color","red"))}function X(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA()(),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().openAddOrEditGroupDialog()}),t._UZ(9,"mat-icon",8),t._uU(10),t.qZA(),t.TgZ(11,"div",9)(12,"app-group-list",10),t.NdJ("groupChange",function(r){return t.CHM(e),t.oxw().paginate.groupId=r})("groupChange",function(){return t.CHM(e),t.oxw().getListUser()})("action",function(r){return t.CHM(e),t.oxw().groupAction(r)}),t.qZA()()()()(),t.TgZ(13,"div",11)(14,"mat-card",3)(15,"div",4)(16,"div",5),t._uU(17),t.qZA()(),t.TgZ(18,"div",12)(19,"div",13)(20,"div",14)(21,"mat-form-field",15),t._UZ(22,"mat-icon",16),t.TgZ(23,"input",17),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().paginate.keyword=r})("keyup.enter",function(){return t.CHM(e),t.oxw().getListUser()}),t.qZA()(),t.TgZ(24,"mat-form-field",18)(25,"mat-select",19),t.NdJ("ngModelChange",function(r){return t.CHM(e),t.oxw().paginate.authority=r})("selectionChange",function(){return t.CHM(e),t.oxw().getListUser()}),t.TgZ(26,"mat-option",20),t._uU(27,"All Role"),t.qZA(),t.YNc(28,P,2,2,"mat-option",21),t.qZA()()(),t.TgZ(29,"div",22)(30,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().addOrEditUser()}),t._UZ(31,"mat-icon",8),t._uU(32),t.qZA()()(),t.TgZ(33,"div",23)(34,"app-data-table",24),t.NdJ("pageChange",function(r){return t.CHM(e),t.oxw().changePage(r)}),t.YNc(35,W,4,4,"ng-template",null,25,t.W1O),t.qZA()()()()()(),t.BQk()}if(2&o){const e=i.$implicit,n=t.MAs(36),r=t.oxw();t.xp6(6),t.hij(" ",e("setting.user.group")," "),t.xp6(4),t.hij(" ",e("setting.user.newGroup")," "),t.xp6(2),t.Q6J("groups",r.groups)("group",r.paginate.groupId),t.xp6(5),t.hij(" ",e("setting.user.userList")," "),t.xp6(4),t.Q6J("floatLabel","always"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("ngModel",r.paginate.keyword),t.xp6(2),t.Q6J("ngModel",r.paginate.authority),t.xp6(1),t.Q6J("value",""),t.xp6(2),t.Q6J("ngForOf",r.authorities),t.xp6(4),t.hij(" ",e("setting.user.newUser")," "),t.xp6(2),t.Q6J("rows",r.users)("columns",r.columns)("paginate",!0)("limit",r.paginate.size)("count",r.paginate.total)("actionTemplate",n)}}const K=[{path:"",component:(()=>{class o extends h.H{constructor(e,n){super(e),this.settingService=n,this.columns=[{columnDef:"stt",header:"STT",flex:.3},{columnDef:"login",header:"T\xean \u0111\u0103ng nh\u1eadp"},{columnDef:"ip",header:"IP",cellRenderer:r=>`${r.userIpList.map(s=>s.ipAddress).join(", ")}`,flex:1.5},{columnDef:"team",header:"Nh\xf3m",cellRenderer:r=>{var s;return`${null===(s=r.team)||void 0===s?void 0:s.name}`}},{columnDef:"typeUser",header:"Lo\u1ea1i",cellRenderer:r=>1===r.typeUser?"SSO":"Th\u01b0\u1eddng"},{columnDef:"authority",header:"Nh\xf3m quy\u1ec1n",cellRenderer:r=>`${r.authorities.map(s=>s.name).join(", ")}`},{columnDef:"action",header:"Actions",flex:1.5}],this.groups=[],this.users=[],this.authorities=[],this.paginate={keyword:"",authority:"",groupId:"",size:10,page:0,total:0}}ngOnInit(){this.initData()}initData(){(0,y.D)([this.settingService.getListWpGroup(),this.settingService.query(this.paginate),this.settingService.getAuthority()]).subscribe(([e,n,r])=>{this.handleGroupResponse(e),this.handleUserResponse(n),this.handleAuthoritiesResponse(r)})}getListGroup(){this.settingService.getListWpGroup().subscribe(e=>{this.handleGroupResponse(e)})}handleGroupResponse(e){200===(null==e?void 0:e.status)&&(this.groups=e.body.results)}getListUser(){this.settingService.query(this.paginate).subscribe(e=>{this.handleUserResponse(e)})}handleUserResponse(e){200===(null==e?void 0:e.status)&&(this.users=e.body,this.paginate.total=Number(e.headers.get("X-Total-Count")))}handleAuthoritiesResponse(e){this.authorities=e.results,console.log(this.authorities)}changePage(e){this.paginate.size=e.pageSize,this.paginate.page=e.pageIndex,this.getListUser()}groupAction(e){switch(e.type){case"edit":this.openAddOrEditGroupDialog(e.data);break;case"delete":this.showDialog(G,{width:"30vw"},n=>{n&&this.deleteGroup(e.data)})}}openAddOrEditGroupDialog(e){this.showDialog(I,{data:e,width:"40vw",disableClose:!0},n=>n&&this.getListGroup())}deleteGroup(e){this.settingService.deleteGroup(e.id).subscribe(n=>{this.showSnackBar("X\xf3a b\u1ea3n ghi th\xe0nh c\xf4ng!","success")})}addOrEditUser(e){this.showDialog(j,{data:{userData:e,groups:this.groups,authorities:this.authorities},width:"60vw",height:"90vh",disableClose:!0})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.zs3),t.Y36(A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-user"]],features:[t.qOj],decls:1,vars:0,consts:[[4,"transloco"],[1,"px-4","flex","md:px-6","w-full"],[1,"w-1/4","h-full","pr-6"],[1,"bg-card","h-full"],[1,"header","border-b"],[1,"text-xl","font-bold","card-title","mb-3"],[1,"content","mt-4"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","heroicons_outline:plus",1,"icon-size-6","mr-2"],[1,"group-list","my-4"],[3,"groups","group","groupChange","action"],[1,"w-3/4","h-full"],[1,"content","mt-4","w-full"],[1,"actions","flex","justify-end"],[1,"search-and-filter","flex","mr-4","items-center"],[1,"fuse-mat-no-subscript","w-full","sm:w-72","mt-4","sm:mt-0","sm:ml-4","bg-default",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["placeholder","N\u1ed9i dung t\xecm ki\u1ebfm","matInput","",3,"ngModel","ngModelChange","keyup.enter"],[1,"fuse-mat-no-subscript","w-full","sm:w-36","sm:ml-4","bg-default"],["placeholder","Ch\u1ecdn role",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"add-user"],[1,"data-table","w-full","mt-4"],[3,"rows","columns","paginate","limit","count","actionTemplate","pageChange"],["actionTemplate",""],["mat-icon-button","",3,"click"],["svgIcon","heroicons_outline:pencil-alt",1,"icon-size-5"],["mat-icon-button",""],["svgIcon","heroicons_outline:trash",1,"icon-size-5"]],template:function(e,n){1&e&&t.YNc(0,X,37,18,"ng-container",0)},directives:[f.KI,z.a8,d.lW,m.Hw,Y,g.KE,g.qo,_.Nt,a.Fj,a.JJ,a.On,T.gD,w.ey,p.sg,B.Q],styles:["mat-paginator .mat-paginator-container{justify-content:end!important}"]}),o})()}];let V=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[U.Bz.forChild(K)],U.Bz]}),o})();var tt=u(4466),et=u(9260);let ot=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,a.u5]]}),o})(),nt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,V,tt.m,et.t,a.u5,ot,a.UX]]}),o})()}}]);